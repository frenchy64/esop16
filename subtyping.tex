\begin{figure*}
\begin{mathpar}

\infer [SO-Refl]
{}
{ \issubobjin {} {\object{}} {\object{}}}


\infer [SO-Top]
{}
{ \issubobjin {} {\object{}} {\emptyobject{}}}

\infer [S-Refl]
{}
{ \issubtypein {} {\t{}} {\t{}}}

\infer [S-Top]
{}
{ \issubtypein {} {\t{}} {\Top{}}}

\infer [S-UnionSuper]
{ \exists i.\ {\issubtypein {} {\t{}} {\s{i}}}}
{ \issubtypein {} {\t{}} {\Unionsplice{{\overrightarrow{\s{}}}^{i}}}}

% FIXME fix overrightarrow caption
\infer [S-UnionSub]
{ {\overrightarrow {\issubtypein {} {\t{i}} {\s{}}}}^{i}}
{ \issubtypein {} {\Unionsplice{\overrightarrow{\t{}}^{i}}} {\s{}}}

\infer [S-Fun]
{ \issubtypein {} {\sp{}} {\s{}}
  \\
  \issubtypein {} {\t{}} {\tp{}}
  \\\\
  \inpropenv {\thenprop {\prop{}}} {\thenprop {\propp{}}}
  \\
  \inpropenv {\elseprop {\prop{}}} {\elseprop {\propp{}}}
  \\
  \inpropenv {\object{}} {\objectp{}}
}
{ \issubtypein {}
    {\ArrowOne {\x{}} {\s{}}
              {\t{}}
              {\filterset {\thenprop {\prop{}}}
                          {\elseprop {\prop{}}}}
              {\object{}}}
    {\ArrowOne {\x{}} {\sp{}}
              {\tp{}}
              {\filterset {\thenprop {\propp{}}}
                          {\elseprop {\propp{}}}}
              {\objectp{}}}}

\infer [S-PMulti]
{ \issubtypein {} {\s{}} {\sp{}}
  \\
  \issubtypein {} {\t{}} {\tp{}}}
{ \issubtypein {} {\MultiFntype {\s{}} {\t{}}}{\MultiFntype {\sp{}} {\tp{}}}}

\infer [S-PMultiFn]
{ \issubtypein {}
  {\s{t}}
  {\ArrowOne {\x{}} {\s{}} {\t{}}
                                  {\filterset {\thenprop {\prop{}}}
                                              {\elseprop {\prop{}}}}
                                      {\object{}}}
                                      \\
  \issubtypein {}
  {\s{d}}
  {\ArrowOne {\x{}} {\s{}} {\tp{}}
                                  {\filterset {\thenprop {\propp{}}}
                                              {\elseprop {\propp{}}}}
                                      {\objectp{}}}
}
{ \issubtypein {} {\MultiFntype{\s{t}}{\s{d}}}
                  {\ArrowOne {\x{}} {\s{}} {\t{}}
                             {\filterset {\thenprop {\prop{}}}
                                         {\elseprop {\prop{}}}}
                             {\object{}}}}

\infer [S-HMap]
{ \forall i.\ ({\k{i}},\ \s{i}) \in \mandatory{} \text{ and } \issubtypein {} {\s{i{}}} {\t{i{}}}
  \\\\
  {\absent{1}} \supseteq {\absent{2}}
}
{\issubtypein {} {\HMapgeneric {\mandatory{}} {\absent{1}}}
  {\HMapgeneric {\overrightarrow{(\k{},\ \t{})}^i} {\absent{2}}}
               }

\infer [S-HMapP]
{ \forall i.\ ({\k{i}},\ \s{i}) \in \mandatory{} \text{ and } \issubtypein {} {\s{i{}}} {\t{i{}}}
}
{\issubtypein {} 
  {\HMapc {\mandatory{}}}
  {\HMapp {\overrightarrow{(\k{},\ \t{})}^i} {\absent{}}}
               }

\infer [S-Class]
{}
{\issubtypein {}
  {\class{}}
  {\Class}}

\infer [S-MultiMono]
{}
{\issubtypein {}
  {\MultiFntype {\ArrowOne {\x{}} {\s{}} {\t{}}
                          {\filterset {\thenprop{\prop{}}}
                                      {\elseprop{\prop{}}}}
                          {\object{}}}
                {\ArrowOne {\x{}} {\s{}} {\tp{}}
                          {\filterset {\thenprop{\propp{}}}
                                      {\elseprop{\propp{}}}}
                          {\objectp{}}}
                }
  {\PMulti{}}
}

\infer [S-FunMono]
{}
{\issubtypein {}
  {\ArrowOne {\x{}} {\s{}}
             {\t{}}
             {\filterset {\thenprop{\prop{}}}
                         {\elseprop{\prop{}}}}
             {\object{}}}
  {\IFn{}}}

\end{mathpar}
\caption{Subtyping rules}
\end{figure*}
