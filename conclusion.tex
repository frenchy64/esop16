\section{Conclusion}
\label{sec:conclusion}

We have presented Typed Clojure, an optionally-typed version of
Clojure whose type system works with a wide variety of distinctive
Clojure idioms and features. Although based on the foundation of Typed
Racket's occurrence typing approach, Typed Clojure both extends the
fundamental control-flow based reasoning as well as applying it to
handle seemingly unrelated features such as multi-methods. In
addition, Typed Clojure supports crucial features such as heterogenous
maps and Java interoperability while integrating these features into
the core type system.

The result is a sound, expressive, and useful type system which, when
implemented in \coretyped with appropriate extensions, suitable for
typechecking significant amount of existing Clojure programs.
%
As a result, Typed Clojure is already successful: it is widely used in
the Clojure community among both enthusiasts and professional
programmers and recieves contributions from many developers.

However, there is much more that Typed Clojure can provide. Most
significantly, Typed Clojure currently does not provide \emph{gradual
  typing}---ineraction between typed and untyped code is unchecked and
thus unsound. We hope to explore the possibilites of using existing
mechanisms for contracts and proxies in Java and
Clojure~\cite{some-stuff} to enable sound gradual typing for Clojure.

Additionally, the Clojure compiler is unable to use Typed Clojure's
wealth of static information to optimze programs. Addressing this
requires not only first enabling sound gradual typing, but also
integrating Typed Clojure into the Clojure tool chain more deeply, so
that its information can be passed on to the compiler. 

Finally, our case study and broader experience indicate that Clojure
programmers still find themselves unable to use Typed Clojure on some
of their programs for lack of expressiveness. This requires continued
effort to analyze and understand the relevant features and idioms and
develop new type checking approaches for them.
